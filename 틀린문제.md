## 틀린문제 (재도전 중)

### [4179번 불!](https://www.acmicpc.net/problem/4179)

```text
Python 제출: 시간 초과
PyPy3 제출:  메모리 초과
```

```python
import sys
from collections import deque
input = sys.stdin.readline

dx = [1, -1, 0, 0]
dy = [0, 0, 1, -1]

r, c = map(int, input().split())
q = deque()
jx, jy = 0, 0
result = 0

# 그래프 구현
graph = []
fire_graph = [[0] * c for _ in range(r)]
for i in range(r):
    tmp = list(input())
    graph.append(tmp)
    for j in range(c):
        if tmp[j] == 'F':
            q.append((i, j))
            fire_graph[i][j] = 1
        if tmp[j] == 'J':
            jx, jy = i, j


# 불의 그래프 탐색
while q:
    x, y = q.popleft()

    for i in range(4):
        nx = x + dx[i]
        ny = y + dy[i]

        if 0 <= nx < r and 0 <= ny < c:
            if fire_graph[nx][ny] == 0 and graph[nx][ny] != '#':
                fire_graph[nx][ny] = fire_graph[x][y] + 1
                q.append((nx, ny))

q = deque()
q.append((jx, jy))
visited = [[0] * c for _ in range(r)]
visited[jx][jy] = 1
# 지훈이의 그래프 탐색
while q:
    x, y = q.popleft()

    if x == r - 1 or x == 0 or y == c - 1 or y == 0:
        result = visited[x][y]
        break

    for i in range(4):
        nx = x + dx[i]
        ny = y + dy[i]

        if 0 <= nx < r and 0 <= ny < c:
            if graph[nx][ny] != '#' and fire_graph[nx][ny] > visited[x][y] + 1:
                visited[nx][ny] = visited[x][y] + 1
                q.append((nx, ny))

if result:
    print(result)
else:
    print('IMPOSSIBLE')
```
